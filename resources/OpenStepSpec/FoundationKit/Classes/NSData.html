<html><head><TITLE>NSData.html</TITLE>
<!-- This document was created from RTF source by rtftohtml version 2.7.4,
     extended by rtftoweb version 1.4. -->
</head><body><A HREF="index.html">Return to the Alphabetic Index</A><br><A HREF="browser.html">Return to the Class Browser</A><br><A HREF="pic_browser.html">Return to the Picture Browser</A><HR>
Copyright (c) 1994 by NeXT Computer, Inc.  All Rights
Reserved.<p>
<p>

<b>NSData </b><p>

<B>Inherits From: </B><A HREF="NSObject.html">NSObject</A><p>
<p>
<b>Conforms To:	</b>NSCoding, NSCopying, NSMutableCopying
NSObject (NSObject)<p>
<p>
<b>Declared In:	</b>Foundation/NSData.h <p>
<p>

<b>Class Description</b><p>


The NSData class declares the programmatic interface to objects that contain
data in the form of bytes. NSData objects hold a static collection of bytes;
NSData's subclass, NSMutableData, defines objects that hold modifiable data.
These two classes provide an object-oriented approach to memory allocation, a
facility that in procedural programming is accessed through functions like
<b>malloc()</b>. Furthermore, these classes take advantage of operating system
primitives when allocating large blocks of memory.<p>
<p>
NSData's two primitive methods<b>bytes</b> and
<b>length</b>provide the basis for all the other methods in its
interface. The <b>bytes</b> method returns a pointer to the bytes contained in
the data object. <b>length </b>returns the number of bytes contained in the
data object. <p>
<p>
NSData and NSMutableData objects are commonly used to hold the contents of a
file. The methods <b>dataWithContentsOfFile:</b> and
<b>dataWithContentsOfMappedFile:</b> return objects that represent a file's
contents. The <b>writeToFile:atomically:</b> method enables you to write the
contents of a data object to a file.<p>
<p>
NSData provides access methods for copying bytes from a data object into a
buffer. Use <b>getBytes:</b> to copy the entire contents of the object or
<b>getBytes:length:</b> to copy a subset, starting with the first byte.
<b>getBytes:range:</b> copies a range of bytes from a starting point within the
bytes themselves. You can also return a data object that contains a subset of
the bytes in another data object by using the <b>subdataWithRange:</b> method.
Or, you can use the <b>description</b> method to return an NSString
representation of the bytes in a data object.<p>
<p>
For determining if two data objects are equal, NSData provides the<b>
isEqualToData:</b> method, which does a byte-for-byte comparison.<p>
<p>

<b>Allocating and Initializing an NSData Object</b><p>

<UL><LI> + (id)<b>allocWithZone:</b>(NSZone *)<i>zone</i>	Creates and returns an
uninitialized object from <i>zone</i>.
</LI><LI> +  (id)<b>data</b>	Creates and returns an empty object. This method is declared
primarily for mutable subclasses of NSData.
</LI><LI> +  (id)<b>dataWithBytes:</b>(const void *)<i>bytes</i>	Creates and returns an
object containing<i> length</i> bytes
<b>length:</b>(unsigned int)<i>length</i>	 	 of data copied from the buffer
<i>bytes</i>.
</LI><LI> +  (id)<b>dataWithBytesNoCopy:</b>(void *)<i>bytes</i>	Creates and returns an
object containing <i>length</i> bytes
<b>length:</b>(unsigned int)<i>length</i>	 	from the buffer <i>bytes</i>.
</LI><LI> +  (id)<b>dataWithContentsOfFile:</b>(NSString *)<i>path</i>	Creates and returns
an object by reading data from the file specified by <i>path</i>.
</LI><LI> +  (id)<b>dataWithContentsOfMappedFile:</b>(NSString *)<i>path</i>
<i></i>	Creates and returns an object whose contents come from the mapped file
<i>path</i>, assuming mapped files are available on the underlying operating
system. If mapped files are not available, this method is identical to
<b>dataWithContentsOfFile:</b>.
</LI><LI> -  (id)<b>initWithBytes:</b>(const void *)<i>bytes</i>	Initializes a newly
allocated NSData object by putting in it 
length:(unsigned int)<i>length</i>	<b><i> </i></b>	<i>length<b> </b></i>bytes
of data copied from the buffer bytes.
</LI><LI> -  (id)<b>initWithBytesNoCopy:</b>(void *)<i>bytes</i>	Initializes a newly
allocated NSData object by putting in it
length:(unsigned int)<i>length</i>	<b> <i>	</i></b><i>length<b> </b></i>bytes
of data from the buffer bytes.
</LI><LI> -  (id)<b>initWithContentsOfFile:</b>(NSString *)<i>path</i>	Initializes a newly
allocated NSData object by reading into it the data from the file specified
by<b> </b><i>path</i>.
</LI><LI> -  (id)<b>initWithContentsOfMappedFile:</b>(NSString *)<i>path</i>
<i></i>	Initializes a newly allocated NSData object to contain the data
residing in the mapped file<b> </b><i>path</i>, assuming mapped files are
available on the underlying operating system. If mapped files are not
available, this method is identical to <b>initWithContentsOfFile:</b>.
</LI><LI> -  (id)<b>initWithData:</b>(NSData *)<i>data</i>	Initializes a newly allocated
NSData object by placing in it the contents of another NSData object,<b>
</b><i>data</i>.</LI></UL>
<b>Accessing Data </b><p>

<UL><LI> - (const void *)<b>bytes</b>	Returns a pointer to the object's contents. This
method returns read-only access to the data.
</LI><LI> -  (NSString *)<b>description</b>	Returns an NSString object that contains a
hexadecimal representation of the the receiver's contents.
</LI><LI> -  (void)<b>getBytes:</b>(void *)<i>buffer</i>	Copies the receiver's contents
into<b> </b><i>buffer</i>.
</LI><LI> -  (void)<b>getBytes:</b>(void *)<i>buffer</i>	Copies length bytes of the
receiver's contents into<b> </b><i>buffer</i>.
<b>length:</b>(unsigned int)<i>length</i>	
</LI><LI> -  (void)<b>getBytes:</b>(void *)<i>buffer</i>	Copies into<b> </b><i>buffer</i>
the portion of the receiver's contents
range:(NSRange)aRange	 	within<b> </b><i>aRange</i>. Raises an<i>
</i>NSRangeException<i> </i>if<i> aRange</i> is not within the range of the
receiver's data.
</LI><LI> -  (NSData *)<b>subdataWithRange:</b>(NSRange)<i>aRange</i>	Returns an object
containing a copy of the receiver's bytes that fall within the limits specified
by <i>aRange</i>. Raises an<i> </i>NSRangeException<i> </i>if<i> aRange</i> is
not within the range of the receiver's data.</LI></UL>
<b>Querying a Data Object</b><p>

<UL><LI> - (BOOL)<b>isEqualToData:</b>(NSData *)<i>other</i>	Compares the receiving
object to other. If the contents of<b> </b><i>other</i> are equal to the
contents of the receiver, this method returns YES. If not, it returns NO.
</LI><LI> -  (unsigned int)<b>length</b>	Returns the number of bytes contained in the
receiver.</LI></UL>
<b>Storing Data</b><p>

<UL><LI> - (BOOL)<b>writeToFile:</b>(NSString *)<i>path</i>	Writes the bytes in the
receiving object to the file specified
<b>atomically:</b>(BOOL)<i>useAuxiliaryFile</i>		by <i>path</i>. If<i>
useAuxiliaryFile</i> is YES, the data is written to a backup file and then,
assuming no errors occur, the backup file is renamed atomically to the intended
file name.</LI></UL>
<b>Deserializing Data</b><p>

<UL><LI> - (unsigned int)<b>deserializeAlignedBytesLengthAtCursor:</b>(unsigned
int*)<i>cursor</i>
<i></i>	Returns the length of the serialized bytes at the location referenced
by <i>cursor</i>. If the bytes have been page-aligned, it also obtains the
relevant hole information and adjusts the
cursor. An invocation of this method must have a corresponding
<b>serializeAlignedBytesLength:</b> invocation.
</LI><LI> -  (void)<b>deserializeBytes:</b>(void *)<i>buffer</i>	Deserializes <i>bytes</i>
number of bytes in the buffer pointed 
<b>length:</b>(unsigned int)<i>bytes</i>		at by <i>buffer</i>, places them
internally starting at <i>cursor</i>, 
<b>atCursor:</b>(unsigned int*)<i>cursor</i>		and advances the cursor. 
</LI><LI> -  (void)<b>deserializeDataAt:</b>(void *)<i>data</i>	Deserializes the data
pointed at by <i>cursor</i>, interpreting it
<b>ofObjCType:</b>(const char *)<i>type</i>		by the Objective C type specifier
<i>type</i> and writing it 
<b>atCursor:</b>(unsigned int*)<i>cursor</i>		to the memory location referenced
by <i>data</i>. If the data
<b>context:</b>(id &lt;NSObjCTypeSerializationCallBack&gt;)		element is an
object other than an instance of
<i>                                                              callback
</i>	NSDictionary, NSArray, NSString, or NSData, a callback from object
<i>callback</i> can provide further definition of the object. All Objective C
types are currently supported except <b>union</b> and <b>void *</b>. Pointers
refer to a single item.
</LI><LI> -  (int)<b>deserializeIntAtCursor:</b>(unsigned int*)<i>cursor</i>	Deserializes
and returns the integer encoded at <i>cursor</i>. Also advances the cursor.
</LI><LI> -  (int)<b>deserializeIntAtIndex:</b>(unsigned int)<i>index</i>	Deserializes and
returns the integer encoded at offset <i>index</i>. Does not advance the
cursor.
</LI><LI> -  (void)<b>deserializeInts:</b>(int *)<i>intBuffer</i>	Deserializes
<i>numInts</i> integers encoded at the location 
<b>count:</b>(unsigned int)<i>numInts</i>		referenced by <i>cursor</i> and puts
them in the buffer 
<b>atCursor:</b>(unsigned int*)<i>cursor</i>		<i>intBuffer</i>. Also advances
the cursor.
</LI><LI> -  (void)<b>deserializeInts:</b>(int *)<i>intBuffer</i>	Deserializes
<i>numInts</i> integers encoded at offset <i>index</i>
<i></i><b>count:</b>(unsigned int)<i>numInts</i>		and puts them in the buffer
<i>intBuffer</i>. Does not advance 
<b>atIndex:</b>(unsigned int)<i>index</i>		the cursor.
</body></html>