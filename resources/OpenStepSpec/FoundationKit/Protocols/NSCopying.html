<html><head><TITLE>NSCopying.html</TITLE><!-- This document was created from RTF source by rtftohtml version
2.7.4 --></head><body><A HREF="../../OpenStepSpec.html">Return to the Main Index</A><br><A HREF="index.html">Return to the Alphabetic Index</A><br><HR>
Copyright (c) 1994 by NeXT Computer, Inc.  All Rights
Reserved.<p>
<p>
<b></b><p>
<b>NSCopying</b><p>
<b></b><p>
<b>Adopted By:	</b>Various OpenStep classes<p>
<p>
<b>Declared In:	</b>Foundation/NSObject.h<p>
<p>
<b></b><p>
<b>Protocol Description</b><p>
<b></b><p>
<b></b><p>
A class whose instances provide functional copies of themselves should adopt
the NSCopying protocol. The exact meaning of
copy can vary from class to class, but a copy
must be a functionally independent object, identical to the original at the
time the copy was made. Where the concept immutable vs.
mutable applies to an object, this protocol produces immutable
copies; see the NSMutableCopying protocol for details on making mutable copies.
Property list classes (NSString, NSData, NSArray, and NSDictionary) guarantee
immutable returned values.<p>
<p>
In most cases, to produce a copy that's independent of the original, a <i>deep
copy</i> must be made. A deep copy is one in which every instance variable of
the receiver is duplicated, instead of referencing the variable in the original
object. If the receiver's instance variables themselves have instance
variables, those too must be duplicated, and so on. A deep copy is thus a
completely separate object from the original; changes to it don't affect the
original, and changes to the original don't affect it. Further, for an
immutable copy, no part at any level may be changed, making a copy a
snapshot of the original object.<p>
<p>
Making a complete deep copy isn't always needed. Some objects can reasonably
share instance variables among themselvesa static string object that
gets replaced but not modified, for example. In such cases your class can
implement NSCopying more cheaply than it might otherwise need to.<p>
<p>
The typical usage of NSCopying is to create passing by
value value objects. <p>
<p>
Contrary to most methods, the returned object is owned by the caller, who is
responsible for releasing it.<p>
<p>
<b></b><p>
<b>Copying Objects</b><p>
<b></b><p>
<b></b><p>
- (id)<b>copyWithZone:</b>(NSZone *)<i>zone</i>	Returns a new instance that's a
functional copy of the receiver. Memory for the new instance is allocated from
zone. For collections, creates a deep (recursive) copy. The copy returned is
immutable if the consideration immutable vs.
mutable applies to the receiving object; otherwise the exact
nature of the copy is determined by the class. The returned object is owned by
the caller, who is responsible for releasing it.<p>
</body></html>